# Understanding cgroup version 2
## overview
- 了解版本2的需求
- 了解版本2的改进
- 在非root用户下设置资源配置
- 理解cpuset

## 了解版本2的需求
版本1的控制器太多，并且每个控制器的属性太多。很多特性很少使用，一些不必要的控制器被删除。版本1的层次结构太复杂，使得使用有点混乱，并且可能损耗性能。其中每个控制器都有自己的子目录。

另一个问题是，不同资源控制器的属性文件没有统一的命名约定。

版本1不支持无root权限容器。

## 了解版本2的改进
版本2更精简，更容易理解。所有属性文件都是针对全局设置的。因此现在特定的所有适用设置都包含在用户切片目录中。现在操作系统只需看一个地方即可为用户提供所有配置。

## Setting resource limits on rootless containers
查看`/lib/systemd/system/user@.service`文件，其中`Delegate`字段表示用户可以设置的资源项，这是可以编辑配置的。